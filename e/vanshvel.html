<!DOCTYPE html>
<html lang="en-US">
  <head> 
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">

  <title>सयाजी-पाटिल परीवार वंश वटवृक्ष</title>

  <link rel="stylesheet" href="css/jquery-ui.min.css" />
  <script type="text/javascript" src="js/jquery.js"></script>
  <script type="text/javascript" src="js/jquery-ui.min.js"></script>

  
  <script type="text/javascript" src="js/primitives.min.js?5100"></script>
  <script type="text/javascript" src="js/primitives.jquery.min.js?5100"></script>
  <link href="css/primitives.latest.css?5100" media="screen" rel="stylesheet" type="text/css" />
  <link rel="stylesheet" href="css/main.css" />
  <script type="text/javascript" src="info/mynodes.json"></script>  
  <script type='text/javascript'>
	const queryString = window.location.search;
	const urlParams = new URLSearchParams(queryString);
	var urlid = urlParams.get('id');

	var items;
    $(document).ready(function () {
		var options = new primitives.famdiagram.Config();
		items = mynodes;

		options.pageFitMode = primitives.common.PageFitMode.None;
		options.items = items;
        if (urlid == null){
            urlid = Math.floor(Math.random() * ((items.length - 1) - 40) + 40);
        }
        options.cursorItem = urlid;
		options.linesWidth = 1;
		options.linesColor = "black";
		options.hasSelectorCheckbox = primitives.common.Enabled.False;
		options.normalLevelShift = 20;
		options.dotLevelShift = 20;
		options.lineLevelShift = 20;
		options.normalItemsInterval = 10;
		options.dotItemsInterval = 10;
		options.lineItemsInterval = 10;
		options.arrowsDirection = primitives.common.GroupByType.Children;
		options.showExtraArrows = true;
		options.defaultTemplateName = "info";
		options.templates = [getInfoTemplate()];
		options.onItemRender = onTemplateRender;
		options.onCursorChanged = changedetails;

      	jQuery("#basicdiagram").famDiagram(options);
        var result = myfunction(urlid);
    });



    //Comparer Function    
    function GetSortOrder(prop) {    
        return function(a, b) {    
            if (a[prop] > b[prop]) {    
                return 1;    
            } else if (a[prop] < b[prop]) {    
                return -1;    
            }    
            return 0;    
        }    
    }    


     $(document).ready(function() {
     $('button').click(function() {
        var result;
        var itemdetails;
        
        var value = $('input').val();
        var myvalue = $('#nodenames [value="' + value + '"]').data('value');

        jQuery("#basicdiagram").famDiagram({ cursorItem: myvalue });
        jQuery("#basicdiagram").famDiagram("update", primitives.orgdiagram.UpdateMode.Refresh);

        result = myfunction(myvalue);
        });  
    });

  	
	function changedetails(e, data) {
		var result = myfunction(data.context.id);
	}  


    function  myfunction(mycurrentid){
        
        var totalnodes = items.length
        var currentnode;
            
        document.getElementById("mom").innerText = ""; 
        document.getElementById("dad").innerText = ""; 
        document.getElementById("mahersasar").innerText = ""; 
        document.getElementById("mamaname").innerText = ""; 
        document.getElementById("mavshiname").innerText = "";  
        document.getElementById("atyaname").innerText = ""; 
        document.getElementById("bhauname").innerText = ""; 
        document.getElementById("bahinname").innerText = ""; 
        document.getElementById("maherimg").style.visibility = 'hidden';
        document.getElementById("mamimg").style.visibility = 'hidden';
        document.getElementById("mavimg").style.visibility = 'hidden';
        document.getElementById("atyimg").style.visibility = 'hidden';
        document.getElementById("bhaimg").style.visibility = 'hidden';
        document.getElementById("bahimg").style.visibility = 'hidden';

        var displayresult;
        for (currentnode = 0; currentnode < totalnodes; currentnode++){


            if (mycurrentid == items[currentnode].id ) {
            	document.getElementById("cardone").style.backgroundColor = items[currentnode].itemTitleColor;
            	document.getElementById("cardtwo").style.backgroundColor = items[currentnode].itemTitleColor;
            	document.getElementById("cardthree").style.backgroundColor = items[currentnode].itemTitleColor;
            	document.getElementById("cardfour").style.backgroundColor = items[currentnode].itemTitleColor;

              	//mom
              	if (items[currentnode].mom != "") {   
               	   document.getElementById('mom').innerText = items[currentnode].mom; 
              	}
              
              //dad
              if (items[currentnode].dad != "") {
                  document.getElementById("dad").innerText = items[currentnode].dad;
              }
              
              //maher
              if (items[currentnode].mahsaskul != "") {
                  document.getElementById("mahersasar").innerText = items[currentnode].mahsaskul; 
                  if (items[currentnode].mahersasar != ""){
                    document.getElementById("mahersasar").innerText = document.getElementById("mahersasar").innerText + ", " + items[currentnode].mahersasar; 

                    if (items[currentnode].mahsasmap != "") {
                        document.getElementById("maherimg").style.visibility = 'visible';
                        document.getElementById("maher").href=items[currentnode].mahsasmap;
                    }
                  }
              } else {
                  if (items[currentnode].mahersasar != ""){
                    document.getElementById("mahersasar").innerText = items[currentnode].mahersasar; 

                    if (items[currentnode].mahsasmap != "") {
                        document.getElementById("maherimg").style.visibility = 'visible';
                        document.getElementById("maher").href=items[currentnode].mahsasmap;
                    }
                  }
              }

              //mama
              if (items[currentnode].mama != "") {
                  document.getElementById("mamaname").innerText = items[currentnode].mama; 
                  
                  if (items[currentnode].mamakul != ""){
                    document.getElementById("mamaname").innerText = document.getElementById("mamaname").innerText + ", " + items[currentnode].mamakul; 
                  }

                  if (items[currentnode].mamalocation != ""){
                    document.getElementById("mamaname").innerText = document.getElementById("mamaname").innerText + ", " + items[currentnode].mamalocation; 

                    if (items[currentnode].mamamap != "") {
                        document.getElementById("mamimg").style.visibility = 'visible';
                        document.getElementById("mama").href=items[currentnode].mamamap;
                    }
                  }
              }    

              //mavshi
              if (items[currentnode].mavshi != "") {
                  document.getElementById("mavshiname").innerText = items[currentnode].mavshi; 
                  
                  if (items[currentnode].mavshikul != ""){
                    document.getElementById("mavshiname").innerText = document.getElementById("mavshiname").innerText + ", " + items[currentnode].mavshikul; 
                  }

                  if (items[currentnode].mavshilocation != ""){
                    document.getElementById("mavshiname").innerText = document.getElementById("mavshiname").innerText + ", " + items[currentnode].mavshilocation; 

                    if (items[currentnode].mavshimap != "") {
                        document.getElementById("mavimg").style.visibility = 'visible';
                        document.getElementById("mavshi").href=items[currentnode].mavshimap;
                    }
                  }
              }


              //atya
              if (items[currentnode].aatya != "") {
                  document.getElementById("atyaname").innerText = items[currentnode].aatya; 
                  
                  if (items[currentnode].aatyakul != ""){
                    document.getElementById("atyaname").innerText = document.getElementById("atyaname").innerText + ", " + items[currentnode].aatyakul; 
                  }

                  if (items[currentnode].aatyalocation != ""){
                    document.getElementById("atyaname").innerText = document.getElementById("atyaname").innerText + ", " + items[currentnode].aatyalocation; 

                    if (items[currentnode].aatyamap != "") {
                        document.getElementById("atyimg").style.visibility = 'visible';
                        document.getElementById("atya").href=items[currentnode].aatyamap;
                    }
                  }
              }

              //bahin
              if (items[currentnode].bahin != "") {
                  document.getElementById("bahinname").innerText = items[currentnode].bahin; 
                  
                  if (items[currentnode].bahinkul != ""){
                    document.getElementById("bahinname").innerText = document.getElementById("bahinname").innerText + ", " + items[currentnode].bahinkul; 
                  }

                  if (items[currentnode].bahinlocation != ""){
                    document.getElementById("bahinname").innerText = document.getElementById("bahinname").innerText + ", " + items[currentnode].bahinlocation; 

                    if (items[currentnode].bahinmap != "") {
                        document.getElementById("bahimg").style.visibility = 'visible';
                        document.getElementById("bahin").href=items[currentnode].bahinmap;
                    }
                  }
              }

              //bahu
              if (items[currentnode].bhau != "") {
                  document.getElementById("bhauname").innerText = items[currentnode].bhau; 
                  
                  if (items[currentnode].bhaulocation != ""){
                    document.getElementById("bhauname").innerText = document.getElementById("bhauname").innerText + ", " + items[currentnode].bhaulocation; 

                    if (items[currentnode].bhaumap != "") {
                        document.getElementById("bhaimg").style.visibility = 'visible';
                        document.getElementById("bhau").href=items[currentnode].bhaumap;
                    }
                  }
              }

            }      
        }
    }     


  	function onTemplateRender(event, data) {
    	var hrefElement = data.element.find("[name=map]");
    	switch (data.renderingMode) {
      		case primitives.common.RenderingMode.Create:
        		/* Initialize widgets here */
        			hrefElement.click(function (e) {
          		/* Block mouse click propagation in order to avoid layout updates before server postback*/
          			primitives.common.stopPropagation(e);
        		});
        		break;
      		case primitives.common.RenderingMode.Update:
        		/* Update widgets here */
        		break;
    	}

    	var itemConfig = data.context;

    	if (data.templateName == "info") {
      		data.element.find("[name=titleBackground]").css({ "background": itemConfig.itemTitleColor });

      		hrefElement.attr({ "href": itemConfig.href });
      		var fields = ["title", "education", "currentjob", "bday", "mday", "add", "city", "map"];
      		for (var index = 0; index < fields.length; index++) {
        		var field = fields[index];

        		var element = data.element.find("[name=" + field + "]");
        		if (element.text() != itemConfig[field]) {
          			element.text(itemConfig[field]);
        		}
      		}
    	}
  	}

  	function getInfoTemplate() {
        var result = new primitives.orgdiagram.TemplateConfig();
        result.name = "info";

        result.itemSize = new primitives.common.Size(220, 137);
        result.minimizedItemSize = new primitives.common.Size(3, 3);
        result.highlightPadding = new primitives.common.Thickness(2, 2, 2, 2);


        var itemTemplate = jQuery(
          '<div class="bp-item bp-corner-all bt-item-frame">'
            + '<div name="titleBackground" class="bp-item bp-corner-all bp-title-frame" style="top: 2px; left: 2px; width: 216px; height: 22px;">'
                + '<div name="title" class="bp-item bp-title" style="top: 3px; left: 6px; width: 208px; height: 20px;text-align:center;">'
                + '</div>'
            + '</div>'
            + '<div name="education" class="bp-item" style="top: 24px; left: 6px; width: 212px; height: 16px; font-size: 11px;"></div>'
            + '<div name="currentjob" class="bp-item" style="top: 40px; left: 6px; width: 212px; height: 16px; font-size: 11px;"></div>'
            + '<div name="bday" class="bp-item" style="top: 56px; left: 6px; width: 212px; height: 16px; font-size: 11px;"></div>'
            + '<div name="mday" class="bp-item" style="top: 72px; left: 6px; width: 212px; height: 16px; font-size: 11px;"></div>'
            + '<div name="add" class="bp-item" style="top: 88px; left: 6px; width: 212px; height: 16px; font-size: 11px;"></div>'
            + '<div name="city" class="bp-item" style="top: 104px; left: 6px; width: 212px; height: 16px; font-size: 11px;"></div>' 
            + '<a name="map" target="_blank" class="bp-item" style="text-align:center;top: 120px; left: 6px; width: 212px; height: 16px; font-size: 11px; font-weight: bold; text-decoration: none;"> <img src="img/map.png" alt="Location" style="width:10px; height=10px;text-align:center;display: block; margin-left: auto;margin-right: auto;"> </a>'
        + '</div>'
        ).css({
            width: result.itemSize.width + "px",
            height: result.itemSize.height + "px"
        }).addClass("bp-item bp-corner-all bt-item-frame");
        result.itemTemplate = itemTemplate.wrap('<div>').parent().html();

        return result;
    }


      function openNav() {
        document.getElementById("mySidepanel").style.width = "250px";
      }

      function closeNav() {
        document.getElementById("mySidepanel").style.width = "0";
      }

  </script>
</head>

<body>

	<div id = "displayme" class="boards">
		<div id = "boardone" class = "board">
          <div id="mySidepanel" class="sidepanel">
              <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">×</a>
              <a href="index.html">Home</a>
              <a href="#">आम्ही कोण</a>
              <a href="vanshvel.html">वंश वटवृक्ष</a>
              <a href="search.html">शोध - महितीचा</a>
              <a href="#">संपर्क</a>
          </div>
        <button class="openbtn" onclick="openNav()">☰</button>  

		</div>
		<div id = "boardone" class = "board" style="text-align: center;">
			Google map वर जाण्यासाठी <img src = "img/map.png" alt= "नकाशा" style="width:12px; height:15px;display:inline; margin-left: 0px;margin-right: 0px;"/>&nbsp; वर click करा
		</div>
		<div id = "boardtwo" class = "board" style="text-align: right;">
			<input type="text" list="nodenames" name="searchname" placeholder="फक्त मराठीतच टाईप करा" style="outline: none; outline-style: none; border-top: none; border-left: none; border-right: none; border-bottom: solid #eeeeee 1px; padding: 1px 1px; font-size: 14px;font-weight: bold;" />

			<datalist id="nodenames"> </datalist>

				<script language="javascript">
					var listitems = mynodes;

					var str=''; // variable to store the options

					listitems.sort(GetSortOrder("title")); 

					for (var i=0; i < listitems.length;++i){
					str += '<option data-value = "'+listitems[i].id+'" value="'+listitems[i].title+'" />'; // Storing options in variable
					}

					var my_list=document.getElementById("nodenames");
					my_list.innerHTML = str;
				</script>
			<button name ="searchnode" class="mybutton">शोध सयाजींचा</button>

		</div>
	</div>
   <BR>

	<div class="cards" id="carddetails">
		<div id = "cardone" class="card">                    
			<label id = "mom" style="color:white; font-size:12px;">.</label>
			<BR>
			<label id = "dad" style="color:white; font-size:12px;">.</label>
		</div>
		<div id = "cardtwo" class="card">
	        <label id = "mahersasar" style="color:white; font-size:12px;width: 90%; display:inline;"></label>
	        <a id="maher" target="_blank"> <img id = "maherimg" src="img/map.png" alt="निवास" style="width:12px; height:15px;display:inline; margin-left: 0px;margin-right: 0px;visibility: hidden;"> </a>
	        
	        <BR>
	        <label id = "mamaname" style="color:white; font-size:12px;width: 90%;display:inline;"></label>    
	        <a id="mama" target="_blank"> <img id = "mamimg" src="img/map.png" alt="निवास" style="width:12px; height:15px;display:inline; margin-left: 0px;margin-right: 0px;visibility: hidden;"> </a>
	    </div>
		<div id = "cardthree" class="card">
	        <label id = "mavshiname" style="color:white; font-size:12px;width: 90%;display:inline;"></label>
	        <a id="mavshi" target="_blank"> <img id = "mavimg" src="img/map.png" alt="निवास" style="width:12px; height:15px;display:inline; margin-left: 0px;margin-right: 0px;visibility: hidden;"> </a>                
	        <BR>
	        <label id = "atyaname" style="color:white; font-size:12px;width: 90%;display:inline;"></label>                    
	        <a id="atya" target="_blank"> <img id = "atyimg" src="img/map.png" alt="निवास" style="width:12px; height:15px;display:inline; margin-left: 0px;margin-right: 0px;visibility: hidden;"> </a>                
		</div>
		<div id = "cardfour" class="card">
	        <label id = "bhauname" style="color:white; font-size:12px;width: 90%;display:inline;"></label>
	        <a id="bhau" target="_blank"> <img id = "bhaimg" src="img/map.png" alt="निवास" style="width:12px; height:15px;display:inline; margin-left: 0px;margin-right: 0px;visibility: hidden;"> </a>                
	        <BR>
	        <label id = "bahinname" style="color:white; font-size:12px;width: 90%;display:inline;"></label>                    
	        <a id="bahin" target="_blank"> <img id = "bahimg" src="img/map.png" alt="निवास" style="width:12px; height:15px;display:inline; margin-left: 0px;margin-right: 0px;visibility: hidden;"> </a>                	
		</div>
	</div>

	<div id="basicdiagram" class="container" />

</body>

</html>