<!DOCTYPE html>
<html>

<head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>First family chart</title>

  <link rel="stylesheet" href="jquery-ui-1.12.1/jquery-ui.min.css" />
  <script type="text/javascript" src="jquery-ui-1.12.1/external/jquery/jquery.js"></script>
  <script type="text/javascript" src="jquery-ui-1.12.1/jquery-ui.min.js"></script>
  
  <script type="text/javascript" src="min/primitives.min.js?5100"></script>
  <script type="text/javascript" src="min/primitives.jquery.min.js?5100"></script>
  <link href="min/primitives.latest.css?5100" media="screen" rel="stylesheet" type="text/css" />

  <script type='text/javascript'>
    $(document).ready(function () {
      var options = new primitives.famdiagram.Config();

      var items = [
      new primitives.famdiagram.ItemConfig({
          id: 1,
          parent: null,
          title: "लहु"
        }),

      {id: 2, parents: [1], title: "खंडु"},
      {id: 3, parents: [1], title: "पिरता"},
      {id: 4, parents: [1], title: "अंकुश"},
      {id: 5, parents: [1], title: "निनाबाई", itemTitleColor: primitives.common.Colors.Green},
      {id: 63, parents: [1], title: "निंबाजी"},
      {id: 64, spouses:[63], title: "मंजुळा", itemTitleColor: primitives.common.Colors.Pink},
      {id: 84, parents: [63,64], title: "महेंद्र", itemTitleColor: primitives.common.Colors.Blue},
      {id: 85, spouses:84, title: "रेखा", itemTitleColor: primitives.common.Colors.Pink},
      {id: 86, parents: [63,64], title: "भालचंद्र"},
      {id: 87, parent: null, spouses:86, title: "संगीता ", itemTitleColor: primitives.common.Colors.Pink},
      {id: 88, parents: [63,64], title: "वासुदेव"},
      {id: 89, parent: null, spouses:88, title: "नितु", itemTitleColor: primitives.common.Colors.Pink},
      {id: 90, parents: [63,64], title: "शामसुंदर"},
      {id: 122, parents: [84,85], title: "डॉ.कल्पेश"},
      {id: 123, parents: [84,85], title: "अल्पेश"},
      {id: 137, parents: [86,87], title: "वेदांत"},
      {id: 138, parents: [88,89], title: "खुश"}

      /*{id: 2, parents: [1], title: "खंडु"},
      {id: 3, parents: [1], title: "पिरता"},
      {id: 4, parents: [1], title: "अंकुश"},
      {id: 5, parents: [1], title: "निनाबाई", itemTitleColor: primitives.common.Colors.Green},
      {id: 63, parents: [1], title: "निंबाजी"},
      {id: 64, spouses:[63], title: "मंजुळा", itemTitleColor: primitives.common.Colors.Pink},
      {id: 84, parents: [63,64], title: "महेंद्र", itemTitleColor: primitives.common.Colors.Blue},
      {id: 85, spouses:84, title: "रेखा", itemTitleColor: primitives.common.Colors.Pink},
      {id: 86, parents: [63,64], title: "भालचंद्र"},
      {id: 87, parent: null, spouses:86, title: "संगीता ", itemTitleColor: primitives.common.Colors.Pink},
      {id: 88, parents: [63,64], title: "वासुदेव"},
      {id: 89, parent: null, spouses:88, title: "नितु", itemTitleColor: primitives.common.Colors.Pink},
      {id: 90, parents: [63,64], title: "शामसुंदर"},
      {id: 122, parents: [84,85], title: "डॉ.कल्पेश"},
      {id: 123, parents: [84,85], title: "अल्पेश"},
      {id: 137, parents: [86,87], title: "वेदांत"},
      {id: 138, parents: [88,89], title: "खुश"}*/

      ];

      options.pageFitMode = primitives.common.PageFitMode.None;

      //options.pageFitMode = primitives.common.pageFitMode.FitToPage;
      //options.RenderingMode = primitives.common.RenderingMode.Create;
      options.items = items;
      options.hasSelectorCheckbox = primitives.common.Enabled.False;
      options.maximumColumnsInMatrix = 2;
      options.cursorItem = 1;
      options.normalItemsInterval = 20;
      options.cousinsIntervalMultiplier = 1;
      options.defaultTemplateName = "info";
      options.templates = [getInfoTemplate()];
      options.onItemRender = onTemplateRender;
      //options.onCursorRender = onTemplateRender; 
      
      
      jQuery("#basicdiagram").famDiagram(options);
    });


    function onTemplateRender(event, data) {
      var hrefElement = data.element.find("[name=readmore]");
      var emailElement = data.element.find("[name=email]");
      switch (data.renderingMode) {
        case primitives.common.RenderingMode.Create:
          /* Initialize widgets here */
          hrefElement.click(function (e) {
            /* Block mouse click propagation in order to avoid layout updates before server postback*/
            primitives.common.stopPropagation(e);
          });
          emailElement.click(function (e) {
            /* Block mouse click propagation in order to avoid layout updates before server postback*/
            primitives.common.stopPropagation(e);
          });
          break;
        case primitives.common.RenderingMode.Update:
          /* Update widgets here */
          break;
      }

      var itemConfig = data.context;

      if (data.templateName == "info") {
        data.element.find("[name=titleBackground]").css({ "background": itemConfig.itemTitleColor });

        var fields = ["title", "description", "phone", "email"];
        for (var index = 0; index < fields.length; index++) {
          var field = fields[index];

          var element = data.element.find("[name=" + field + "]");
          if (element.text() != itemConfig[field]) {
            element.text(itemConfig[field]);
          }
        }
      }
    }


    function getInfoTemplate() {
        var result = new primitives.orgdiagram.TemplateConfig();
        result.name = "info";

        result.itemSize = new primitives.common.Size(140, 60);
        result.minimizedItemSize = new primitives.common.Size(3, 3);

        var itemTemplate = jQuery(
          '<div class="bp-item bp-corner-all bt-item-frame" style="text-align:center;">'
          +'<div name="titleBackground" class="bp-item bp-corner-all bp-title-frame" style="top: 2px; left: 2px; width: 136px; height: 66px; ">'
          + '<div name="title" class="bp-item bp-title" style="top: 10px; left: 1px; width: 126px; height: 18px; padding:9px;">'
          + '</div>'
          + '</div>'
        ).css({
          width: result.itemSize.width + "px",
          height: result.itemSize.height + "px"
          
        }).addClass("bp-item bp-corner-all bt-item-frame");

        result.itemTemplate = itemTemplate.wrap('<div>').parent().html();

        return result;
      }


   $(document).ready(function() {
   $('button').click(function() {
      var itemid;
      var value = $('input').val();
 
      itemid = $('#nodenames [value="' + value + '"]').data('value');
      jQuery("#basicdiagram").famDiagram({ cursorItem: itemid });
      jQuery("#basicdiagram").famDiagram("update", primitives.orgdiagram.UpdateMode.Refresh);
      });  
  });




  </script>
</head>

<body>



  <div>
    <div id="basicdiagram" style="width: 100%; height: 480px; border-style: dotted; border-width: 1px;" />
  </div>  
<div>  
<input type="text" list="nodenames" name="searchname"/>

<datalist id="nodenames">
    <option data-value="1" value="लहु">
    <option data-value="2" value="खंडु">
    <option data-value="3" value="पिरता">
    <option data-value="4" value="अंकुश">
    <option data-value="5" value="निनाबाई">
    <option data-value="63" value="निंबाजी">
    <option data-value="64" value="मंजुळा">
    <option data-value="84" value="महेंद्र">
    <option data-value="85" value="रेखा">
    <option data-value="86" value="भालचंद्र">
    <option data-value="87" value="संगीता">
    <option data-value="88" value="वासुदेव">
    <option data-value="89" value="नितु">
    <option data-value="90" value="शामसुंदर">,
    <option data-value="122" value="डॉ.कल्पेश">
    <option data-value="123" value="अल्पेश">
    <option data-value="137" value="वेदांत">
    <option data-value="138" value="खुश">

</datalist>
<button name ="searchnode">शोध सयाजींचा</button>

</div>

     

</body>

</html>